#=============================================================================
# NOVARR - Docker Environment Configuration
#=============================================================================
# Copy this file to .env and update the values as needed.
# Required variables are marked with [REQUIRED]
# Optional variables have sensible defaults for Docker deployment
#=============================================================================

#-----------------------------------------------------------------------------
# Application Settings
#-----------------------------------------------------------------------------
APP_NAME=Novarr
APP_ENV=production
# [REQUIRED] Generate with: docker-compose run --rm app php artisan key:generate
APP_KEY=
APP_DEBUG=false
# [REQUIRED] Set to your public URL (e.g., https://novarr.example.com)
APP_URL=http://localhost
# Timezone for the application (e.g., America/New_York, Europe/London, Asia/Tokyo)
APP_TIMEZONE=UTC
APP_LOCALE=en
APP_FALLBACK_LOCALE=en
APP_FAKER_LOCALE=en_US

# Maintenance mode configuration
APP_MAINTENANCE_DRIVER=file
APP_MAINTENANCE_STORE=database

#-----------------------------------------------------------------------------
# Database Configuration
#-----------------------------------------------------------------------------
DB_CONNECTION=mysql
# Use 'mysql' to match the docker-compose service name
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=novarr
DB_USERNAME=novarr_user
# [REQUIRED] Set a strong password for the database user
DB_PASSWORD=
DB_CHARSET=utf8mb4
DB_COLLATION=utf8mb4_unicode_ci

# [REQUIRED] Set a strong password for MySQL root user
DB_ROOT_PASSWORD=

# Optional: Use a database URL instead of individual settings
# DB_URL=

#-----------------------------------------------------------------------------
# Redis Configuration
#-----------------------------------------------------------------------------
# Use 'redis' to match the docker-compose service name
REDIS_CLIENT=phpredis
REDIS_HOST=redis
REDIS_PASSWORD=null
REDIS_PORT=6379
REDIS_CACHE_DB=1
REDIS_SESSION_DB=2

#-----------------------------------------------------------------------------
# Cache & Session Configuration
#-----------------------------------------------------------------------------
# Using Redis for cache and sessions in Docker for better performance
CACHE_STORE=redis
SESSION_DRIVER=redis
SESSION_LIFETIME=120
SESSION_SAME_SITE=lax
SESSION_PARTITIONED_COOKIE=false

#-----------------------------------------------------------------------------
# Queue Configuration
#-----------------------------------------------------------------------------
# Using Redis for queues in Docker (change to 'sqs' if using AWS SQS)
QUEUE_CONNECTION=redis
# Where to store failed job records
QUEUE_FAILED_DRIVER=database-uuids

# AWS SQS Configuration (uncomment if using SQS instead of Redis)
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_DEFAULT_REGION=us-east-1
# SQS_PREFIX=
# SQS_QUEUE=default

#-----------------------------------------------------------------------------
# Supervisor Configuration (if using supervisor variant)
#-----------------------------------------------------------------------------
# Number of queue workers to run (only used with docker-compose.supervisor.yml)
SUPERVISOR_WORKER_PROCESSES=2

#-----------------------------------------------------------------------------
# Laravel Octane Configuration
#-----------------------------------------------------------------------------
OCTANE_SERVER=roadrunner
OCTANE_HTTPS=false
# Number of workers (adjust based on your server's CPU cores)
# OCTANE_WORKERS=auto
# Maximum requests before worker restart (helps with memory leaks)
# OCTANE_MAX_REQUESTS=500

#-----------------------------------------------------------------------------
# Filesystem Configuration
#-----------------------------------------------------------------------------
FILESYSTEM_DISK=local

#-----------------------------------------------------------------------------
# Logging Configuration
#-----------------------------------------------------------------------------
LOG_CHANNEL=stack
LOG_STACK=single
LOG_LEVEL=warning
LOG_DEPRECATIONS_CHANNEL=null

#-----------------------------------------------------------------------------
# Mail Configuration
#-----------------------------------------------------------------------------
MAIL_MAILER=smtp
# For development, you can use mailhog: MAIL_HOST=mailhog, MAIL_PORT=1025
MAIL_HOST=smtp.mailtrap.io
MAIL_PORT=2525
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS=noreply@novarr.local
MAIL_FROM_NAME="${APP_NAME}"
MAIL_EHLO_DOMAIN=

#-----------------------------------------------------------------------------
# Broadcasting Configuration
#-----------------------------------------------------------------------------
BROADCAST_CONNECTION=log
# Pusher Configuration (uncomment if using Pusher)
# PUSHER_APP_ID=
# PUSHER_APP_KEY=
# PUSHER_APP_SECRET=
# PUSHER_APP_CLUSTER=mt1

# Laravel Reverb Configuration (uncomment if using Reverb)
# REVERB_APP_ID=
# REVERB_APP_KEY=
# REVERB_APP_SECRET=
# REVERB_HOST=
# REVERB_PORT=443
# REVERB_SCHEME=https

#-----------------------------------------------------------------------------
# Vite Configuration
#-----------------------------------------------------------------------------
VITE_APP_NAME="${APP_NAME}"

#-----------------------------------------------------------------------------
# Additional Configuration
#-----------------------------------------------------------------------------
# Set to true if running behind a reverse proxy with HTTPS
# TRUSTED_PROXIES=*

# Memcached Configuration (uncomment if using Memcached instead of Redis)
# MEMCACHED_HOST=127.0.0.1

# Hashing Configuration
# BCRYPT_ROUNDS=12
# ARGON_MEMORY=65536
# ARGON_THREADS=1
# ARGON_TIME=4

# Auth Configuration
# AUTH_PASSWORD_TIMEOUT=10800
